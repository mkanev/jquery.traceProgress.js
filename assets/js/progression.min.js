/*!
 * TheProgression.js
 * Original author: @mkanev
 * Further changes, comments: @mkanev
 * Licensed under the MIT license
 */
;(function(e,c,a,g){var d="progression",f={tooltipWidth:"200",tooltipPosition:"right",tooltipOffset:"50",showProgressBar:true,showHelper:true,validator:false,tooltipFontSize:"14",tooltipFontColor:"ffffff",progressBarBackground:"ffffff",progressBarColor:"6EA5E1",tooltipBackgroundColor:"a2cbfa",tooltipPadding:"10",tooltipAnimate:true};function b(i,h){this.element=i;this.$elem=e(this.element);this.options=e.extend({},f,h);this._defaults=f;this._name=d;this.init()}b.prototype={init:function(){data_prog=this.$elem.css("position","relative").find("[data-progression]");items=data_prog.length;thisid=this.$elem.attr("id");firstoffset=data_prog.first().position().top;firsthelper=data_prog.first().attr("data-helper");function h(m,l){return((l/m)*100)}if(data_prog.first().attr("data-helper")!==g){firsthelper=data_prog.first().attr("data-helper")}else{firsthelper=""}if(this.options.showProgressBar===false){$display="display:none;"}else{$display=""}if(this.options.showHelper===false){$display2="display:none;"}else{$display2=""}var j=(this.options.tooltipAnimate)?"-webkit-transition: top .3s ease-in-out;-moz-transition: top .3s ease-in-out;-o-transition: top .3s ease-in-out;transition: top .3s ease-in-out;":"";var i=(this.options.tooltipAnimate)?"-webkit-transition: width .3s ease-in-out;-moz-transition: width .3s ease-in-out;-o-transition: width .3s ease-in-out;transition: width .3s ease-in-out;":"";var k=(this.options.tooltipPosition=="right")?"border-color: transparent #"+this.options.tooltipBackgroundColor+" transparent transparent;":"border-color: transparent transparent transparent #"+this.options.tooltipBackgroundColor+"";marginRight=parseInt(this.options.tooltipWidth)+parseInt(this.options.tooltipOffset);myhtml=e('<div class="syco_tooltip" data-tooltip="'+thisid+'" style="'+j+"padding:"+this.options.tooltipPadding+"px;top:"+firstoffset+"px;position:absolute;background:#"+this.options.tooltipBackgroundColor+";"+this.options.tooltipPosition+":-"+marginRight+"px;width:"+this.options.tooltipWidth+'px" ><span class="triangle_'+this.options.tooltipPosition+'" style="'+k+'"></span><p style="'+$display2+"font-size:"+this.options.tooltipFontSize+"px;color:#"+this.options.tooltipFontColor+'"><span class="tooltip_helper"><span data-index="1" >1</span>/'+items+"</span> "+firsthelper+'</p><div class="percentagebar" style="'+$display+"background:#"+this.options.progressBarBackground+'""><div class="percentagebarinner" style="'+i+"background:#"+this.options.progressBarColor+'"></div><span class="percent" '+$display+">0%</span></div></div>");this.$elem.prepend(myhtml);thiswidth=this.$elem.find(".syco_tooltip").width();data_prog.each(function(){var m=e(this);var l=m.position().top;m.bind("live focus change",function(){thisprogressionlength=m.parent().parent().find("[data-progression]").length;alldataprogression=m.parent().parent().find("[data-progression]");thisid2=m.parent().parent().attr("id");thistooltip=e('[data-tooltip="'+thisid2+'"]');thishelper=m.attr("data-helper");if(m.attr("data-helper")!==g){thishelper=m.attr("data-helper")}else{thishelper=""}index=parseInt(e("#"+thisid2).find("[data-progression]").index(m))+1;percentage=h(thisprogressionlength,index).toFixed(0);thistooltip.find("p").html('<span class="tooltip_helper"><span data-index="1" >'+index+"</span>/"+thisprogressionlength+"</span> "+thishelper).parent().find(".percentagebarinner").css("width",parseInt(percentage)+"%").next().html(parseInt(percentage)+"%");thistooltip.css("top",l+"px")})})},yourOtherFunction:function(i,h){}};e.fn[d]=function(h){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,h))}})}})(jQuery,window,document);